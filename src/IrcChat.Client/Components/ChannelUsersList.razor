@using IrcChat.Shared.Models

@if (!string.IsNullOrEmpty(CurrentChannel))
{
    <div class="users-section">
        <h4>Utilisateurs (@(Users?.Count ?? 0))</h4>
        <ul class="user-list">
            @foreach (var userName in Users?.Select(user => user.Username) ?? [])
            {
                <li class="@(userName == Username ? "current" : "")"
                    @onclick="() => OnUserClicked.InvokeAsync(userName)">
                    <span class="status-dot online"></span>
                    @userName
                </li>
            }
        </ul>
    </div>
}

@code {
    [Parameter] public string? CurrentChannel { get; set; }
    [Parameter] public string Username { get; set; } = string.Empty;
    [Parameter] public List<User>? Users { get; set; }
    [Parameter] public EventCallback<string> OnUserClicked { get; set; }
}
